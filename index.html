<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>JS Bin</title>
</head>
<body>
  <form action="/login" method="GET" id="loginForm">
    <div>
      <label>
        姓名：
        <input type="text" name="username">
      </label>
    </div>
    <div>
      <label>
        密码：
        <input type="password" name="password">
      </label>
    </div>
    <input type="submit">
    <script>
        let loginForm = document.getElementById('loginForm')
        loginForm.addEventListener('submit',function(e){
          e.preventDefault()
          let username = loginForm.username.value
          let password = loginForm.password.value
          console.log(username,password)
  
          let request = new XMLHttpRequest()
        
          request.onreadystatechange = function(){

            if(request.readyState === 4){

                if(request.status >= 400){
                    console.log('fail')
                }else{
                    console.log('success')
                }
                
            }
          }
          request.open('GET',`login/?username=${username}&password=${password}`)
          request.send()
        })
    </script>
  </form>
  
</body>
</html>